# csci-3155-lab-assignment-2-solved
**TO GET THIS SOLUTION VISIT:** [CSCI 3155: Lab Assignment 2 Solved](https://www.ankitcodinghub.com/product/csci-3155-lab-assignment-2-solved/)


---

üì© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
üì± **WhatsApp:** +1 419 877 7882  
üìÑ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;9711&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;1&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;5&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;5\/5 - (1 vote)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;CSCI 3155: Lab Assignment 2 Solved&quot;,&quot;width&quot;:&quot;138&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 138px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            5/5 - (1 vote)    </div>
    </div>
The purpose of this lab is to get practice with grammars and to build an interpreter for something that begins to feel more like a programming language.

From your team of 8-10 persons in your lab section, find a new partner for this lab assignment (different from your Lab 1 partner). You will work on this assignment closely with your partner. However, note that <strong>each student needs to submit </strong>and are individually responsible for completing the assignment.

Like last time, you will work on this assignment in pairs. However, note that <strong>each student needs to submit a write-up </strong>and are individually responsible for completing the assignment.

You are welcome to talk about these questions in larger groups. However, we ask that you write up your answers in pairs. Also, be sure to acknowledge those with which you discussed, including your partner and those outside of your pair.

Recall the evaluation guideline from the course syllabus.

<em>Both your ideas and also the clarity with which they are expressed matter‚Äîboth in your English prose and your code!</em>

<em>We will consider the following criteria in our grading:</em>

<ul>
<li>Howwelldoesyoursubmissionanswerthequestions? <em>For example, a common mistake is to give an example when a question asks for an explanation. An example may be useful in your explanation, but it should not take the place of the explanation.</em></li>
<li>How clear is your submission? <em>If we cannot understand what you are trying to say, then we cannot give you points for it. Try reading your answer aloud to yourself or a friend; this technique is often a great way to identify holes in your reasoning. For code, not every program that ‚Äúworks‚Äù deserves full credit. We must be able to read and understand your intent. Make sure you state any preconditions or invariants for your functions (either in comments, as assertions, or as </em><em>require clauses as appropriate).</em></li>
</ul>
Try to make your code as concise and clear as possible. Challenge yourself to find the most crisp, concise way of expressing the intended computation. This may mean using ways of expression computation currently unfamiliar to you.

Finally, make sure that your file compiles and runs on COG. A program that does not compile will <em>not </em>be graded.

1

<strong>Submission Instructions.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>Upload to the moodle exactly four files named as follows:

<ul>
<li>Lab2-<em>YourIdentiKey</em>.pdf with your answers to the written questions (scanned, clearly legible handwritten write-ups are acceptable).</li>
<li>Lab2-<em>YourIdentiKey</em>.scala with your answers to the coding exercises.</li>
<li>Lab2Spec-<em>YourIdentiKey</em>.scala with any updates to your unit tests.</li>
<li>Lab2-<em>YourIdentiKey</em>.jsy with a challenging test case for your JAVASCRIPTY</li>
</ul>
Replace <em>YourIdentiKey </em>with your IdentiKey (e.g., I would submit Lab2-bec.pdf and so forth). Don‚Äôt use your student identification number. To help with managing the submissions, we ask that you rename your uploaded files in this manner.

Submit your Lab1.scala file to COG for auto-testing. We ask that you submit both to COG and to moodle in case of any issues.

Sign-up for an interview slot for an evaluator. To fairly accommodate everyone, the interview times are strict and <strong>will not be rescheduled</strong>. Missing an interview slot means missing the interview evaluation component of your lab grade. Please take advantage of your interview time to maximize the feedback that you are able receive. Arrive at your interview ready to show your implementation and your written responses. Implementations that do not compile and run will not be evaluated.

<strong>Getting Started. </strong>Clone the code from the Github repository with the following command: git clone -b lab2 https://github.com/bechang/pppl-labs.git

A suggested way to get familiar with Scala is to do some small lessons with Scala Koans <a href="http://www.scalakoans.org/">(</a><a href="http://www.scalakoans.org/">http://www.scalakoans.org/</a><a href="http://www.scalakoans.org/">)</a>. If you haven‚Äôt looked at the ones from Lab 1, we consider you look at those, particularly AboutCaseClasses and AboutPatternMatching.

<ol>
<li><strong>Feedback</strong>. Complete the survey on the linked from the moodle after completing this assignment. Any non-empty answer will receive full credit.</li>
<li><strong>Grammars: Synthetic Examples</strong>.
<ul>
<li>Consider the following grammar:</li>
</ul>
</li>
</ol>
<em>A </em>::<em>= A </em>&amp; <em>A | V V </em>::<em>= </em>a<em>|</em>b

Recall that a grammar defines inductively a set of syntactic objects (i.e., a language). We can also use judgments to define a langauge.

For this exercise, rewrite this grammar using the following two judgment forms:

<em>A ‚àà</em><strong>AObjects&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>meaning&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Syntactic object <em>A </em>is in the set <strong>AObjects</strong>.

<em>V ‚àà</em><strong>VObjects&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </strong>meaning&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Syntactic object <em>V </em>is in the set <strong>VObjects</strong>.

<ul>
<li>Show that the grammar in the previous part is ambiguous.</li>
<li>Describe the language defined by the following grammar:</li>
</ul>
<table width="360">
<tbody>
<tr>
<td width="281"><em>S</em>

<em>A</em>

<em>B</em>

<em>C</em>

(from Sebesta, Chapter 3)

(d) Consider the following grammar:
</td>
<td width="32">::<em>=</em>

::<em>=</em>

::<em>=</em>

::<em>=</em>
</td>
<td width="47"><em>A | B | C </em>a <em>A |</em>a b <em>B |Œµ </em>c <em>C |</em>c</td>
</tr>
<tr>
<td width="281"><em>S</em>

<em>A B</em>
</td>
<td width="32">::<em>=</em>

::<em>=</em>

::<em>=</em>
</td>
<td width="47"><em>A </em>a <em>B </em>b <em>A </em>b<em>|</em>b a <em>B |</em>a</td>
</tr>
</tbody>
</table>
Which of the following sentences are in the language generated by this grammar? For the sentences that are described by this grammar, demonstrate that they are by giving <strong>derivations</strong>.

<ol>
<li>baab</li>
<li>bbbab</li>
<li>bbaaaaa</li>
<li>bbaab</li>
</ol>
(from Sebesta, Chapter 3)

(e) Consider the following grammar:

<table width="132">
<tbody>
<tr>
<td width="23"><em>S</em>

<em>A B</em>
</td>
<td width="32">::<em>=</em>

::<em>=</em>

::<em>=</em>
</td>
<td width="78">a <em>S </em>c <em>B | A |</em>b c <em>A |</em>c d<em>| A</em></td>
</tr>
</tbody>
</table>
Which of the following sentences are in the language generated by this grammar? For the sentences that are described by this grammar, demonstrate that they are by giving <strong>parse trees</strong>.

<ol>
<li>abcd</li>
<li>acccbd</li>
<li>acccbcc</li>
<li>acd</li>
<li>accc</li>
</ol>
(from Sebesta, Chapter 3)

<ol start="3">
<li><strong>Grammars: Understanding a Language</strong>.
<ul>
<li>Consider the following two grammars for expressions <em>e</em>. In both grammars, <em>operator </em>and <em>operand </em>arethesame; youdonotneedtoknowtheirproductionsforthisquestion.</li>
</ul>
</li>
</ol>
<em>e&nbsp;&nbsp;&nbsp;&nbsp; </em>::<em>=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operand | e operator operand</em>

<em>e&nbsp;&nbsp;&nbsp;&nbsp; </em>::<em>=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operand esuffix</em>

<em>esuffix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </em>::<em>=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; operator operand esuffix |Œµ</em>

<ol>
<li>Intuitively describe the expressions generated by the two grammars.</li>
<li>Do these grammars generate the same or different expressions? Explain.</li>
</ol>
<ul>
<li>Write a Scala expression to determine if ‚Äò<em>‚àí</em>‚Äô has higher precedence than ‚Äò<em>&lt;&lt;</em>‚Äô or vice versa. Make sure that you are checking for precedence in your expression and not for left or right associativity. Use parentheses to indicate the possible abstract syntax trees, and then show the evaluation of the possible expressions. Finally, explain how you arrived at the relative precedence of ‚Äò<em>‚àí</em>‚Äô and ‚Äò<em>&lt;&lt;</em>‚Äô based on the output that you saw in the Scala interpreter.</li>
<li>Give a BNF grammar for floating point numbers that are made up of a fraction (e.g., 5.6 or 3.123 or -2.5) followed by an optional exponent (e.g., E10 or E-10). The exponent, if it exists, is the letter ‚ÄòE‚Äô followed by an integer. For example, the following are floating point numbers: 3.5E3, 3.123E30, -2.5E2, -2.5E-2, and 3.5. The following are not examples of floating point numbers: 3.E3, E3, and 3.0E4.5.</li>
</ul>
More precisely, our floating point numbers must have a decimal point, do not have leading zeros, can have any number of trailing zeros, non-zero exponents (if it exists), must have non-zero fraction to have an exponent, and cannot have a ‚Äò-‚Äô in front of a zero number. The exponent cannot have leading zeros.

For this exercise, let us assume that the tokens are characters in the following alphabet Œ£:

Œ£<em>=</em><sup>def </sup>{0,1,2,3,4,5,6,7,8,9,E,-,.}

Yourgrammarshouldbecompletelydefined(i.e.,itshouldnotcountonanon-terminal that it does not itself define).

<ol start="4">
<li><strong>JavaScripty Interpreter: Booleans, Strings, Variable Binding, and Conversions</strong>.</li>
</ol>
One aspect that makes the JavaScript specification complex is the presence of implicit conversions (e.g., string values may be implicitly converted to numeric values depending on the context in which values are used). In this exercise, we will explore some of this complexity by implementing an evaluator with conversions for the subset with numbers, booleans, strings, and variable binding. JavaScript has a distinguished <strong>undefined </strong>value that we will also consider. This version of JAVASCRIPTY is much like the LET language in Section 3.2 of Friedman and Wand.

<table width="433">
<tbody>
<tr>
<td width="128">expressions

values unary operators binary operators
</td>
<td width="305"><em>e </em>::<em>= x |n |b |str |</em><strong>undefined</strong><em>|uope</em><sub>1 </sub><em>|e</em><sub>1</sub><em>bope</em><sub>2</sub>

<em>| e</em><sub>1 </sub>? <em>e</em><sub>2 </sub>: <em>e</em><sub>3 </sub><em>|</em><strong>const</strong><em>x =e</em><sub>1</sub>; <em>e</em><sub>2 </sub><em>|</em><strong>console</strong>.<strong>log</strong>(<em>e</em><sub>1</sub>) <em>v </em>::<em>= n |b |</em><strong>undefined</strong><em>|str</em>

<em>uop </em>::<em>= </em><sup>‚Äì</sup><em>|</em>!

<em>bop </em>::<em>= </em>,<em>|</em>+<em>|</em>‚Äì<em>|</em>*<em>|</em>/<em>|</em>===<em>|</em>!==<em>|</em>&lt;<em>|</em>&lt;=<em>|</em>&gt;<em>|</em>&gt;=<em>|</em>&amp;&amp;<em>|||</em>
</td>
</tr>
<tr>
<td width="128">variables</td>
<td width="305"><em>x</em></td>
</tr>
<tr>
<td width="128">numbers (doubles)</td>
<td width="305"><em>n</em></td>
</tr>
<tr>
<td width="128">booleans strings</td>
<td width="305"><em>b </em>::<em>= </em><strong>true</strong><em>|</em><strong>false</strong>

<em>str</em>
</td>
</tr>
</tbody>
</table>
Figure 1: Abstract syntax of JAVASCRIPTY

statements <em>s </em>::<em>= </em><strong>const </strong><em>x = e | e | </em>{ <em>s</em><sup>(</sup><sub>1 </sub>} <em>| </em>; <em>| s</em><sub>1 </sub><em>s</em><sub>2 </sub>expressions <em>e </em>::<em>= ¬∑¬∑¬∑|</em>(<strong>const</strong>(((<em>x =</em><sup>(</sup><em>e</em><sup>(</sup><sub>1</sub><sup>(</sup>; <em>e</em><sub>2 </sub><em>| </em>(<em>e</em><sub>1</sub>)

Figure 2: Concrete syntax of JAVASCRIPTY

The syntax of JAVASCRIPTY for this lab is given in Figure 1. Note that the grammar specifies the abstract syntax using notation borrowed from the concrete syntax. Also note that JAVASCRIPTY in this lab extends JAVASCRIPTY from the previous lab.

The concrete syntax accepted by the parser is slightly less flexible than the abstract syntax in order to match the syntactic structure of JavaScript. In particular, all <strong>const </strong>bindings must be at the top-level. For example,

1 + (<strong>const </strong>x = 2; x)

is not allowed. The reason is that JavaScript layers a language of <em>statements </em>on top of its language of <em>expressions</em>, and the <strong>const </strong>binding is considered a statement. A program is a statement <em>s </em>as given in Figure 2. A statement is either a <strong>const </strong>binding, an expression, a grouping of statements (i.e., { <em>s</em><sub>1 </sub>}), an empty statement (i.e., ;), or a statement sequence (i.e., <em>s</em><sub>1 </sub><em>s</em><sub>2</sub>). Expressions are as in Figure 1 except <strong>const </strong>binding expressions are removed, and we have a way to parenthesize expressions.

An abstract syntax tree representation is provided for you in ast.scala. We also provide a parser and main driver for testing. The correspondence between the concrete syntax and the abstract syntax representation is shown in Figure 3.

To make the project simpler, we also deviate slightly with respect to scope. Whereas JavaScript considers all <strong>const </strong>bindings to be in the same scope, our JAVASCRIPTY bindings each introduce their own scope. In particular, for the binding <strong>const </strong><em>x = e</em><sub>1</sub>; <em>e</em><sub>2</sub>, the scope of variable <em>x </em>is the expression <em>e</em><sub>2</sub>.

Statement sequencing and expression sequencing are right associative. All other binary operator expressions are left associative. Precedence of the operators follow JavaScript.

The semantics are defined by the corresponding JavaScript program. We also have a system function <strong>console</strong>.<strong>log </strong>for printing out values to the console and returns <strong>undefined</strong>. Its implementation is provided for you.

<ul>
<li>First, write some JAVASCRIPTY programs and execute them as JavaScript programs. This step will inform how you will implement your interpreter and will serve as tests for your interpreter.</li>
<li>Then, implement <strong>def </strong>eval(env: Env, e: Expr): Expr</li>
</ul>
that evaluates a JAVASCRIPTY expression e in a value environment env to a value. A value is one of a number <em>n</em>, a boolean <em>b</em>, a string <em>s</em>, or <strong>undefined</strong>.

It will be useful to first implement three helper functions for converting values to numbers, booleans, and strings.

<strong>def </strong>toNumber(v: Expr): Double <strong>def </strong>toBoolean(v: Expr): Boolean <strong>def </strong>toStr(v: Expr): String

A value environment, a map from strings to JAVASCRIPTY values, is represented by a Scala Map[String,Expr]:

<strong>type </strong>Env = Map[String, Expr] <strong>val </strong>emp: Env = Map() <strong>def </strong>get(env: Env, x: String): Expr = env(x) <strong>def </strong>extend(env: Env, x: String, v: Expr): Env = { require(isValue(v))

env + (x -&gt; v)

}

We provide the above the three functions to interface with the Scala standard library. YoumayusetheScalastandardlibrarydirectlyifyouwish,butwerecommendthatyou just use these interfaces, as they are all that you need. The emp Scala value represents an empty value environment, the get function gets the value bound to the variable named by a given string, and the extend function extends a given environment with a new variable binding.

<strong>sealed abstract class </strong>Expr

<strong>case class </strong>Var(x: String) <strong>extends </strong>Expr

Var(<em>x</em>) <em>x </em><strong>case class </strong>ConstDecl(x: String, e1: Expr, e2: Expr) <strong>extends </strong>Expr

ConstDecl(<em>x</em>,<em>e</em><sub>1</sub>,<em>e</em><sub>2</sub>) <strong>const</strong><em>x =e</em><sub>1</sub>; <em>e</em><sub>2 </sub><strong>case class </strong>N(n: Double) <strong>extends </strong>Expr

N(<em>n</em>) <em>n</em>

<strong>case class </strong>B(b: Boolean) <strong>extends </strong>Expr

B(<em>b</em>) <em>b</em>

<strong>case class </strong>S(str: String) <strong>extends </strong>Expr

S(<em>str</em>) <em>str </em><strong>case object </strong>Undefined <strong>extends </strong>Expr

Undefined <strong>undefined case class </strong>Unary(uop: Uop, e1: Expr) <strong>extends </strong>Expr

Unary(<em>uop</em>,<em>e</em><sub>1</sub>) <em>uope</em><sub>1 </sub><strong>case class </strong>Binary(bop: Bop, e1: Expr, e2: Expr) <strong>extends </strong>Expr

Binary(<em>bop</em>, <em>e</em><sub>1</sub>) <em>e</em><sub>1 </sub><em>bope</em><sub>2 </sub><strong>sealed abstract class </strong>Uop <strong>case object </strong>Neg <strong>extends </strong>Uop

Neg <em>‚àí</em>

<strong>case object </strong>Not <strong>extends </strong>Uop

Not !

<strong>sealed abstract class </strong>Bop <strong>case object </strong>Plus <strong>extends </strong>Bop

Plus <em>+</em>

<strong>case object </strong>Minus <strong>extends </strong>Bop

Minus <em>‚àí</em>

<strong>case object </strong>Times <strong>extends </strong>Bop

Times <em>‚àó</em>

<strong>case object </strong>Div <strong>extends </strong>Bop

Div /

<strong>case object </strong>Eq <strong>extends </strong>Bop

<sup>Eq </sup><em>===</em>

<strong>case object </strong>Ne <strong>extends </strong>Bop

Ne ! <em>==</em>

<strong>case object </strong>Lt <strong>extends </strong>Bop

Lt <em>&lt;</em>

<strong>case object </strong>Le <strong>extends </strong>Bop

Le <em>&lt;=</em>

<strong>case object </strong>Gt <strong>extends </strong>Bop

Gt <em>&gt;</em>

<strong>case object </strong>Ge <strong>extends </strong>Bop

Ge <em>&gt;=</em>

<strong>case object </strong>And <strong>extends </strong>Bop

And &amp;&amp;

<strong>case object </strong>Or <strong>extends </strong>Bop

Or <em>|| </em><strong>case object </strong>Seq <strong>extends </strong>Bop

Seq , <strong>case class </strong>If(e1: Expr, e2: Expr, e3: Expr) <strong>extends </strong>Expr

If(<em>e</em><sub>1</sub>, <em>e</em><sub>2</sub>, <em>e</em><sub>3</sub>) <em>e</em><sub>1 </sub>? <em>e</em><sub>2 </sub>: <em>e</em><sub>3 </sub><strong>case class </strong>Print(e1: Expr) <strong>extends </strong>Expr Print(<em>e</em><sub>1</sub>) <strong>console</strong>.<strong>log</strong>(<em>e</em><sub>1</sub>)

Figure 3: Representing in Scala the abstract syntax of JAVASCRIPTY. After each <strong>caseclass </strong>or <strong>caseobject</strong>, we show the correspondence between the representation and the concrete syntax.
